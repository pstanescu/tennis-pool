<template name="tournamentItem">
  <div class="container top-margin">
    <div class="row">
      <div class="col-md-12">
        {{> tournamentMeta}}
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        {{> drawMeta}}
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        {{> roundViewer}}
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        {{> matchViewer}}
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        {{> voters}}
      </div>
    </div>
  </div>
</template>

<template name="tournamentMeta">
  {{#with tournaments}}
  <span class="h1">
    {{> editableText collection="tournaments" field="tournamentName"}}
    {{> editableText collection="tournaments" field="year"}}
  </span>
  {{/with}}
</template>

<template name="drawMeta">
  <div class="row">
    <div class="col-md-6 col-xs-6">
      <div class="btn-group navbar-inverse" role="group">
        {{#each draws}}
          <button type="button" class="btn btn-default navbar-btn js-draw" id="js-draw-{{@index}}"><a href="#">{{drawType}} {{drawGender}}</a></button>
        {{/each}}
      </div>
    </div>
  </div>
  <div class="row">&nbsp;</div>
</template>

<template name="roundViewer">
  <div class="row">
    {{#each rounds}}
      <div class="col-md-3">
        <b>{{roundName}}</b>
      </div>
    {{/each}}
  </div>
</template>

<template name="matchViewer">
  {{#each roundMatches}}
    <ul class="round round-{{roundOrder}} col-md-2">
      {{#each matches}}
        <li class="spacer">&nbsp;</li>
        <li class="game game-top">
          <div class="radio">
            <label><input type="radio" data-id="{{roundid}}_team1Name_{{matchOrder}}_{{team1Name}}" name="blankRadio_{{matchOrder}}" value="team1_{{matchOrder}}" id="team1_{{matchOrder}}">{{team1Name}}</label>
          </div>
          <span>{{> editableText type="number" collection="matches" field="team1Set1Score"}}</span>
          <span>{{> editableText type="number" collection="matches" field="team1Set2Score"}}</span>
          <span>{{> editableText type="number" collection="matches" field="team1Set3Score"}}</span>
        </li>
        <li class="game game-spacer">&nbsp;</li>
        <li class="game game-bottom">
          <div class="radio">
            <label><input type="radio" data-id="{{roundid}}_team2Name_{{matchOrder}}_{{team2Name}}" name="blankRadio_{{matchOrder}}" value="team2_{{matchOrder}}" id="team2_{{matchOrder}}">{{team2Name}}</label>
          </div>
          <span>{{> editableText type="number" collection="matches" field="team2Set1Score"}}</span>
          <span>{{> editableText type="number" collection="matches" field="team2Set2Score"}}</span>
          <span>{{> editableText type="number" collection="matches" field="team2Set3Score"}}</span>
        </li>
        <li class="spacer">&nbsp;</li>
      {{/each}}
    </ul>
  {{/each}}
</template>

<template name="commentList">
  {{#each comments}}
  <ul>
    <li>{{title}}
      <p>{{body}}</p>
    </li>
  </ul>
  {{/each}}
</template>

<template name="insertCommentForm">
  {{#autoForm collection="Comments" id="insertCommentForm" type="method" meteormethod="addComment"}}
  <fieldset>
    <legend>Comment</legend>
    {{> afQuickField name='title'}}
    {{> afQuickField name='body' rows=6 placehold="Write your comment here"}}
    {{> afQuickField name='mid' value=mid type="hidden"}}
  </fieldset>
  <button type="submit" class="btn btn-primary">Insert</button>
  {{/autoForm}}
</template>

<template name="voters">
  Voters:
  {{#each users}}
  <span class="label label-success">{{firstname}}</span>
  {{/each}}
</template>
